#!/usr/bin/expect 
spawn /usr/bin/truncate /urouter/uroutertmp/urouter-system-control/adslmodem -s 0
log_file /urouter/uroutertmp/urouter-system-control/adslmodem 
spawn /bin/date
#If it all goes pear shaped the script will timeout after 20 seconds.
set timeout 20
#First argument is assigned to the variable name
#set name [lindex $argv 0]
#Second argument is assigned to the variable user
#set user [lindex $argv 1]
#Third argument is assigned to the variable password
#set password [lindex $argv 2]
#This spawns the telnet program and connects it to the variable name
spawn telnet 10.0.0.3 
#The script expects login
sleep 1
expect "username:" 
#The script sends the user variable
send "admin
"
#The script expects Password
sleep 0.9
#The script sends the password variable
send "48004800
"
sleep 0.8
send "adsl show info 
"
#sleep 0.3

send "
logout
"
#This hands control of the keyboard over two you (Nice expect feature!)
interact
